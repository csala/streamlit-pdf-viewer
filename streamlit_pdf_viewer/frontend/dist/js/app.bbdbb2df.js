(()=>{"use strict";var e={6783:(e,t,o)=>{var n=o(3751),a=o(641);const l={id:"app"};function r(e,t,o,n,r,s){const i=(0,a.g2)("PdfViewer"),u=(0,a.g2)("WithStreamlitConnection");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(u,null,{default:(0,a.k6)(({args:e})=>[(0,a.bF)(i,{args:e},null,8,["args"])]),_:1})])}var s=o(33);const i={class:"scrolling-container",ref:"scrollingContainer"},u={class:"control-buttons"},c={class:"top-buttons"},d={key:0,style:{width:"16px",height:"16px","vertical-align":"middle"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},p={key:1,style:{width:"16px",height:"16px","vertical-align":"middle"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},g={key:1,class:"control-button page-number-display"},h={key:0,class:"zoom-panel"},v={class:"zoom-input-container"},m=["onClick"];function w(e,t,o,l,r,w){return(0,a.uX)(),(0,a.CE)("div",{style:(0,s.Tr)(l.pdfContainerStyle),ref:"pdfContainer",class:"container-wrapper"},[(0,a.Lk)("div",i,t[9]||(t[9]=[(0,a.Lk)("div",{id:"pdfViewer"},null,-1)]),512),(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[l.showFullscreen?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"control-button",onClick:t[0]||(t[0]=(0,n.D$)((...e)=>l.toggleFullscreen&&l.toggleFullscreen(...e),["stop"])),title:"Toggle Fullscreen"},[l.isFullscreen?((0,a.uX)(),(0,a.CE)("svg",p,t[11]||(t[11]=[(0,a.Lk)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},null,-1)]))):((0,a.uX)(),(0,a.CE)("svg",d,t[10]||(t[10]=[(0,a.Lk)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},null,-1)])))])):(0,a.Q3)("",!0),l.showPageNumber?((0,a.uX)(),(0,a.CE)("div",g,(0,s.v_)(l.currentPageNumber)+" / "+(0,s.v_)(l.totalPages),1)):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"control-button",onClick:t[1]||(t[1]=(0,n.D$)((...e)=>l.toggleZoomPanel&&l.toggleZoomPanel(...e),["stop"]))},(0,s.v_)(Math.round(100*l.currentZoom))+"% ",1)]),l.showZoomPanel?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",v,[(0,a.bo)((0,a.Lk)("input",{type:"number",class:"zoom-input","onUpdate:modelValue":t[2]||(t[2]=e=>l.manualZoomInput=e),onKeyup:t[3]||(t[3]=(0,n.jR)((...e)=>l.applyManualZoom&&l.applyManualZoom(...e),["enter"])),onBlur:t[4]||(t[4]=(...e)=>l.applyManualZoom&&l.applyManualZoom(...e))},null,544),[[n.Jo,l.manualZoomInput]]),t[12]||(t[12]=(0,a.Lk)("span",{class:"zoom-input-percent"},"%",-1))]),t[17]||(t[17]=(0,a.Lk)("div",{class:"zoom-separator"},null,-1)),(0,a.Lk)("button",{class:"zoom-option",onClick:t[5]||(t[5]=(...e)=>l.zoomIn&&l.zoomIn(...e))},t[13]||(t[13]=[(0,a.Lk)("span",{class:"zoom-icon"},"+",-1),(0,a.eW)(" Zoom In ",-1)])),(0,a.Lk)("button",{class:"zoom-option",onClick:t[6]||(t[6]=(...e)=>l.zoomOut&&l.zoomOut(...e))},t[14]||(t[14]=[(0,a.Lk)("span",{class:"zoom-icon"},"−",-1),(0,a.eW)(" Zoom Out ",-1)])),t[18]||(t[18]=(0,a.Lk)("div",{class:"zoom-separator"},null,-1)),(0,a.Lk)("button",{class:"zoom-option",onClick:t[7]||(t[7]=(...e)=>l.fitToWidth&&l.fitToWidth(...e))},t[15]||(t[15]=[(0,a.Lk)("span",{class:"zoom-icon"},"↔",-1),(0,a.eW)(" Fit to Width ",-1)])),(0,a.Lk)("button",{class:"zoom-option",onClick:t[8]||(t[8]=(...e)=>l.fitToHeight&&l.fitToHeight(...e))},t[16]||(t[16]=[(0,a.Lk)("span",{class:"zoom-icon"},"↕",-1),(0,a.eW)(" Fit to Height ",-1)])),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.zoomPresets,e=>((0,a.uX)(),(0,a.CE)("button",{key:e,class:(0,s.C4)(["zoom-option zoom-preset",{active:Math.abs(l.currentZoom-e)<.01}]),onClick:t=>l.setZoom(e)},(0,s.v_)(Math.round(100*e))+"% ",11,m))),128))])):(0,a.Q3)("",!0)])],4)}o(4114),o(8111),o(2489),o(7588);var f=o(953),y=(o(951),o(9936)),k=o(7445),b=o(2543);const _="pdfjs-dist/cmaps/",E=!0,x=!0,C=["solid","dashed","dotted","double","groove","ridge","inset","outset","none",void 0,null],L={props:["args"],setup(e){const t=(0,f.KR)(0),o=(0,f.KR)(0),n=(0,f.KR)([]),l=(0,f.KR)([]),r=(0,f.KR)([]),s=(0,f.KR)(e.args.height||0),i=(0,f.KR)(!1),u=(0,f.KR)(null),c=(0,f.KR)(1),d=(0,f.KR)(0),p=null===e.args.zoom_level||void 0===e.args.zoom_level?"auto":e.args.zoom_level,g=(0,f.KR)(p),h=(0,f.KR)(1),v=(0,f.KR)(!1),m=!0===e.args.show_fullscreen_toggle,w=!1!==e.args.show_page_number,L=[.5,.75,1,1.25,1.5,2],R=(0,f.KR)(null),z=(0,f.KR)(null),M=(0,f.KR)(100),P=(0,f.KR)(!1),$=!0===e.args.render_text,F=(e,t=window.innerWidth)=>{if("string"===typeof e&&e.endsWith("%")){const t=parseFloat(e);if(!isNaN(t))return{type:"percent",value:t/100}}const o=Number(e);return!isNaN(o)&&o>0?{type:"pixel",value:o}:{type:"pixel",value:t}},N=(0,a.EW)(()=>{const t=F(e.args.width,window.innerWidth),o="percent"===t.type?100*t.value+"%":`${t.value}px`,n={width:o,height:e.args.height?`${e.args.height}px`:"auto",position:"relative"},a=e.args.viewer_align||"center";return"center"===a?(n.marginLeft="auto",n.marginRight="auto"):"left"===a?(n.marginLeft="0",n.marginRight="auto"):"right"===a&&(n.marginLeft="auto",n.marginRight="0"),n}),K=e=>{e&&(e.innerHTML="")},Z=(e,t,o,n,a=1)=>{const l=e.getViewport({scale:t,rotation:o}),r=(window.devicePixelRatio||1)*a,s=document.createElement("canvas");return s.id=`canvas_page_${n}`,s.height=l.height*r,s.width=l.width*r,s.style.width=`${l.width}px`,s.style.height=`${l.height}px`,s.style.display="block",s.getContext("2d").scale(r,r),s},V=(t,o,n,a)=>{const l=document.createElement("div");t.id=`${t.id||o}`,l.id=`annotation-${t.id}`,l.setAttribute("data-index",t.id),l.style.position="absolute",l.style.left=t.x*a+"px",l.style.top=t.y*a+"px",l.style.width=t.width*a+"px",l.style.height=t.height*a+"px";let r=t.border;t.border&&C.includes(t.border)||(r="solid"),l.style.outline=`${e.args.annotation_outline_size*a}px ${r} ${t.color}`,l.style.cursor=$?"text":"pointer",l.style.pointerEvents=$?"none":"auto",l.style.zIndex=10,$||l.addEventListener("click",()=>{k.wk.setComponentValue({clicked_annotation:{index:t.id,...t}})}),n.appendChild(l)},W=async(t,o,n,a,l)=>{const r={canvasContext:o.getContext("2d"),viewport:n};await t.render(r).promise;const s=document.createElement("div");s.className="page",s.dataset.pageNumber=t.pageNumber,s.style.position="relative",s.style.width=`${n.width}px`,s.style.height=`${n.height}px`,s.style.marginBottom=`${e.args.pages_vertical_spacing}px`,e.args.show_page_separator&&(s.style.borderBottom="1px solid #ddd");const i=document.createElement("div");if(i.className="canvasWrapper",i.style.position="absolute",i.style.top="0",i.style.left="0",i.appendChild(o),s.appendChild(i),$){const e=await t.getTextContent(),o=document.createElement("div");o.className="textLayer",o.style.zIndex="11",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height=`${n.height}px`,o.style.width=`${n.width}px`;const a=new y.D6({textContentSource:e,container:o,viewport:n,textDivs:[]});await a.render(),s.appendChild(o)}a&&a.length>0&&a.forEach((e,t)=>{const o=l+t;V(e,o,s,n.scale)});const u=document.getElementById("pdfViewer");u.appendChild(s)},I=t=>0===e.args.pages_to_render.length?Array.from({length:t},(e,t)=>t+1):e.args.pages_to_render,O=async(a,s,i)=>{t.value=0,n.value=[],l.value=[],r.value=[];const u=e.args.resolution_boost||1;let c=0;const d=await a.getPage(1),p=d.getViewport({scale:1});let v;if("auto"===g.value)v=o.value/p.width*.98;else if("auto-height"===g.value){const t=z.value.clientHeight;v=!e.args.height||t<50?o.value/p.width*.98:t/p.height*.98}else v=g.value;h.value=v,M.value=Math.round(100*v);let m=0;for(let o=1;o<=a.numPages;o++){const d=await a.getPage(o),p=d.rotate;n.value.push(v),l.value.push(d.getViewport({scale:1,rotation:p}).height);const g=d.getViewport({scale:v,rotation:p});if(g.width>c&&(c=g.width),i.includes(o)){const n=Z(d,v,p,o,u);s.style.setProperty("--scale-factor",v);const a=e.args.annotations.filter(e=>Number(e.page)===o);t.value+=n.height/((window.devicePixelRatio||1)*u),await W(d,n,g,a,m),m+=a.length,n.id&&r.value.push(n.id)}}i.length>0&&(t.value-=e.args.pages_vertical_spacing),s.style.width=`${c}px`,s.style.marginLeft="auto",s.style.marginRight="auto"},T=e=>{console.error(e),window.alert(e.message)},B=async e=>{y.EA.workerSrc="pdfjs-dist/build/pdf.worker.mjs";try{const t=(0,y.YE)({url:e,cMapUrl:_,cMapPacked:E,enableXfa:x}),o=await t.promise;R.value=o,d.value=o.numPages;const n=document.getElementById("pdfViewer");K(n);const a=I(o.numPages);c.value=a.length>0?a[0]:1,await O(o,n,a),j()}catch(t){T(t)}},j=()=>{if(e.args.scroll_to_page){const t=document.getElementById(`canvas_page_${e.args.scroll_to_page}`);t&&t.scrollIntoView(e.args.scroll_options)}else if(e.args.scroll_to_annotation){const t=document.querySelector(`[id^="annotation-"][data-index="${e.args.scroll_to_annotation}"]`);t&&t.scrollIntoView(e.args.scroll_options)}},X=()=>{const o=e.args.height?e.args.height:t.value;o!==s.value&&(k.wk.setFrameHeight(o),s.value=o)},D=()=>{const t=F(e.args.width,window.innerWidth);let n;n="percent"===t.type?Math.min(Math.floor(t.value*window.innerWidth),window.innerWidth):t.value,n!==o.value&&(o.value=n)},H=async()=>{if(!P.value){P.value=!0;try{const t=`data:application/pdf;base64,${e.args.binary}`;D(),await B(t),X()}catch(t){console.error(t)}finally{P.value=!1}}};(0,a.wB)(()=>e.args.binary,()=>{H()}),(0,a.wB)(()=>e.args.zoom_level,e=>{g.value=null===e||void 0===e?"auto":e,H()}),(0,a.wB)(()=>e.args.viewer_align,()=>{H()});const S=()=>{const e=z.value;e&&e.requestFullscreen&&e.requestFullscreen()},A=()=>{document.exitFullscreen&&document.exitFullscreen()},q=()=>{v.value?A():S()},Q=e=>{g.value=e,i.value=!1,H()},G=()=>{const e=Math.min(1.2*h.value,10);Q(e)},U=()=>{const e=Math.max(h.value/1.2,.1);Q(e)},J=()=>{Q("auto")},Y=async()=>{e.args.height?Q("auto-height"):Q("auto")},ee=()=>{i.value=!i.value,i.value&&(M.value=Math.round(100*h.value))},te=()=>{let e=parseFloat(M.value);!isNaN(e)&&e>0?(e=Math.max(10,Math.min(e,1e3)),Q(e/100)):M.value=Math.round(100*h.value)},oe=e=>{i.value&&!e.target.closest(".control-buttons")&&(i.value=!1)},ne=()=>{if(!u.value)return;const e=u.value,t=e.querySelectorAll(".page[data-page-number]");if(0===t.length)return;const o=e.getBoundingClientRect(),n=o.top+o.height/2;let a=null,l=1/0;if(t.forEach(e=>{const t=e.getBoundingClientRect(),o=t.top+t.height/2,r=Math.abs(o-n);r<l&&(l=r,a=e)}),a){const e=parseInt(a.dataset.pageNumber,10);e!==c.value&&(c.value=e)}},ae=(0,b.debounce)(ne,100),le=()=>{v.value=!!document.fullscreenElement},re=(0,b.debounce)(H,200);return(0,a.sV)(()=>{re(),window.addEventListener("resize",re),document.addEventListener("click",oe),document.addEventListener("fullscreenchange",le),u.value?.addEventListener("scroll",ae)}),(0,a.hi)(()=>{window.removeEventListener("resize",re),document.removeEventListener("click",oe),document.removeEventListener("fullscreenchange",le),u.value?.removeEventListener("scroll",ae)}),{pdfContainer:z,pdfContainerStyle:N,showZoomPanel:i,currentZoom:h,localZoomLevel:g,zoomPresets:L,manualZoomInput:M,scrollingContainer:u,currentPageNumber:c,totalPages:d,setZoom:Q,zoomIn:G,zoomOut:U,fitToWidth:J,fitToHeight:Y,toggleZoomPanel:ee,applyManualZoom:te,showFullscreen:m,isFullscreen:v,toggleFullscreen:q,showPageNumber:w}}};var R=o(6262);const z=(0,R.A)(L,[["render",w],["__scopeId","data-v-6aa50eec"]]),M=z,P={key:0},$={class:"err__msg"};function F(e,t,o,n,l,r){return(0,a.uX)(),(0,a.CE)("div",null,[""!=e.componentError?((0,a.uX)(),(0,a.CE)("div",P,[t[0]||(t[0]=(0,a.Lk)("h1",{class:"err__title"},"Component Error",-1)),(0,a.Lk)("div",$,"Message: "+(0,s.v_)(e.componentError),1)])):null!=e.renderData?(0,a.RG)(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled},void 0,!0):(0,a.Q3)("",!0)])}const N=(0,a.pM)({name:"WithStreamlitConnection",setup(){const e=(0,f.KR)(void 0),t=(0,f.KR)(""),o=o=>{const n=o;e.value=n.detail,t.value=""};return(0,a.sV)(()=>{k.wk.events.addEventListener(k.wk.RENDER_EVENT,o),k.wk.setComponentReady()}),(0,a.$u)(()=>{""!=t.value&&k.wk.setFrameHeight()}),(0,a.hi)(()=>{k.wk.events.removeEventListener(k.wk.RENDER_EVENT,o)}),(0,a.qG)(e=>{t.value=String(e)}),{renderData:e,componentError:t}}}),K=(0,R.A)(N,[["render",F],["__scopeId","data-v-bef81972"]]),Z=K,V=(0,a.pM)({name:"App",components:{PdfViewer:M,WithStreamlitConnection:Z}}),W=(0,R.A)(V,[["render",r]]),I=W;(0,n.Ef)(I).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}o.m=e,(()=>{var e=[];o.O=(t,n,a,l)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,a,l]=e[c],s=!0,i=0;i<n.length;i++)(!1&l||r>=l)&&Object.keys(o.O).every(e=>o.O[e](n[i]))?n.splice(i--,1):(s=!1,l<r&&(r=l));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,a,l]}})(),(()=>{o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,l,[r,s,i]=n,u=0;if(r.some(t=>0!==e[t])){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(i)var c=i(o)}for(t&&t(n);u<r.length;u++)l=r[u],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},n=self["webpackChunkstreamlit_pdf_viewer"]=self["webpackChunkstreamlit_pdf_viewer"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,[504],()=>o(6783));n=o.O(n)})();
//# sourceMappingURL=app.bbdbb2df.js.map