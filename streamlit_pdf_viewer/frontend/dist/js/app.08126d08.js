(()=>{"use strict";var e={4611:(e,t,o)=>{var n=o(3751),a=o(641);const l={id:"app"};function r(e,t,o,n,r,i){const s=(0,a.g2)("PdfViewer"),u=(0,a.g2)("WithStreamlitConnection");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(u,null,{default:(0,a.k6)(({args:e})=>[(0,a.bF)(s,{args:e},null,8,["args"])]),_:1})])}var i=o(33);const s={class:"control-buttons"},u={class:"top-buttons"},c={key:0,style:{width:"16px",height:"16px","vertical-align":"middle"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},d={key:1,style:{width:"16px",height:"16px","vertical-align":"middle"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},p={key:0,class:"zoom-panel"},h={class:"zoom-input-container"},g=["onClick"];function v(e,t,o,l,r,v){return(0,a.uX)(),(0,a.CE)("div",{style:(0,i.Tr)(l.pdfContainerStyle),ref:"pdfContainer",class:"container-wrapper"},[t[18]||(t[18]=(0,a.Lk)("div",{class:"scrolling-container"},[(0,a.Lk)("div",{id:"pdfViewer"})],-1)),(0,a.Lk)("div",s,[(0,a.Lk)("div",u,[l.showFullscreen?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"control-button",onClick:t[0]||(t[0]=(0,n.D$)((...e)=>l.toggleFullscreen&&l.toggleFullscreen(...e),["stop"])),title:"Toggle Fullscreen"},[l.isFullscreen?((0,a.uX)(),(0,a.CE)("svg",d,t[10]||(t[10]=[(0,a.Lk)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},null,-1)]))):((0,a.uX)(),(0,a.CE)("svg",c,t[9]||(t[9]=[(0,a.Lk)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},null,-1)])))])):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"control-button",onClick:t[1]||(t[1]=(0,n.D$)((...e)=>l.toggleZoomPanel&&l.toggleZoomPanel(...e),["stop"]))},(0,i.v_)(Math.round(100*l.currentZoom))+"% ",1)]),l.showZoomPanel?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("div",h,[(0,a.bo)((0,a.Lk)("input",{type:"number",class:"zoom-input","onUpdate:modelValue":t[2]||(t[2]=e=>l.manualZoomInput=e),onKeyup:t[3]||(t[3]=(0,n.jR)((...e)=>l.applyManualZoom&&l.applyManualZoom(...e),["enter"])),onBlur:t[4]||(t[4]=(...e)=>l.applyManualZoom&&l.applyManualZoom(...e))},null,544),[[n.Jo,l.manualZoomInput]]),t[11]||(t[11]=(0,a.Lk)("span",{class:"zoom-input-percent"},"%",-1))]),t[16]||(t[16]=(0,a.Lk)("div",{class:"zoom-separator"},null,-1)),(0,a.Lk)("button",{class:"zoom-option",onClick:t[5]||(t[5]=(...e)=>l.zoomIn&&l.zoomIn(...e))},t[12]||(t[12]=[(0,a.Lk)("span",{class:"zoom-icon"},"+",-1),(0,a.eW)(" Zoom In ",-1)])),(0,a.Lk)("button",{class:"zoom-option",onClick:t[6]||(t[6]=(...e)=>l.zoomOut&&l.zoomOut(...e))},t[13]||(t[13]=[(0,a.Lk)("span",{class:"zoom-icon"},"−",-1),(0,a.eW)(" Zoom Out ",-1)])),t[17]||(t[17]=(0,a.Lk)("div",{class:"zoom-separator"},null,-1)),(0,a.Lk)("button",{class:"zoom-option",onClick:t[7]||(t[7]=(...e)=>l.fitToWidth&&l.fitToWidth(...e))},t[14]||(t[14]=[(0,a.Lk)("span",{class:"zoom-icon"},"↔",-1),(0,a.eW)(" Fit to Width ",-1)])),(0,a.Lk)("button",{class:"zoom-option",onClick:t[8]||(t[8]=(...e)=>l.fitToHeight&&l.fitToHeight(...e))},t[15]||(t[15]=[(0,a.Lk)("span",{class:"zoom-icon"},"↕",-1),(0,a.eW)(" Fit to Height ",-1)])),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.zoomPresets,e=>((0,a.uX)(),(0,a.CE)("button",{key:e,class:(0,i.C4)(["zoom-option zoom-preset",{active:Math.abs(l.currentZoom-e)<.01}]),onClick:t=>l.setZoom(e)},(0,i.v_)(Math.round(100*e))+"% ",11,g))),128))])):(0,a.Q3)("",!0)])],4)}o(4114),o(8111),o(2489),o(7588);var m=o(953),w=(o(951),o(9936)),y=o(7445),f=o(2543);const k="pdfjs-dist/cmaps/",_=!0,b=!0,x=["solid","dashed","dotted","double","groove","ridge","inset","outset","none",void 0,null],E={props:["args"],setup(e){const t=(0,m.KR)(0),o=(0,m.KR)(0),n=(0,m.KR)([]),l=(0,m.KR)([]),r=(0,m.KR)([]),i=(0,m.KR)(e.args.height||0),s=(0,m.KR)(!1),u=null===e.args.zoom_level||void 0===e.args.zoom_level?"auto":e.args.zoom_level,c=(0,m.KR)(u),d=(0,m.KR)(1),p=(0,m.KR)(!1),h=!0===e.args.show_fullscreen_toggle,g=[.5,.75,1,1.25,1.5,2],v=(0,m.KR)(null),E=(0,m.KR)(null),C=(0,m.KR)(100),L=(0,m.KR)(!1),z=!0===e.args.render_text,R=(e,t=window.innerWidth)=>{if("string"===typeof e&&e.endsWith("%")){const t=parseFloat(e);if(!isNaN(t))return{type:"percent",value:t/100}}const o=Number(e);return!isNaN(o)&&o>0?{type:"pixel",value:o}:{type:"pixel",value:t}},M=(0,a.EW)(()=>{const t=R(e.args.width,window.innerWidth),o="percent"===t.type?100*t.value+"%":`${t.value}px`,n={width:o,height:e.args.height?`${e.args.height}px`:"auto",position:"relative"},a=e.args.viewer_align||"center";return"center"===a?(n.marginLeft="auto",n.marginRight="auto"):"left"===a?(n.marginLeft="0",n.marginRight="auto"):"right"===a&&(n.marginLeft="auto",n.marginRight="0"),n}),$=e=>{e&&(e.innerHTML="")},F=(e,t,o,n,a=1)=>{const l=e.getViewport({scale:t,rotation:o}),r=(window.devicePixelRatio||1)*a,i=document.createElement("canvas");return i.id=`canvas_page_${n}`,i.height=l.height*r,i.width=l.width*r,i.style.width=`${l.width}px`,i.style.height=`${l.height}px`,i.style.display="block",i.getContext("2d").scale(r,r),i},Z=(t,o,n,a)=>{const l=document.createElement("div");t.id=`${t.id||o}`,l.id=`annotation-${t.id}`,l.setAttribute("data-index",t.id),l.style.position="absolute",l.style.left=t.x*a+"px",l.style.top=t.y*a+"px",l.style.width=t.width*a+"px",l.style.height=t.height*a+"px";let r=t.border;t.border&&x.includes(t.border)||(r="solid"),l.style.outline=`${e.args.annotation_outline_size*a}px ${r} ${t.color}`,l.style.cursor=z?"text":"pointer",l.style.pointerEvents=z?"none":"auto",l.style.zIndex=10,z||l.addEventListener("click",()=>{y.wk.setComponentValue({clicked_annotation:{index:t.id,...t}})}),n.appendChild(l)},P=async(t,o,n,a,l)=>{const r={canvasContext:o.getContext("2d"),viewport:n};await t.render(r).promise;const i=document.createElement("div");i.className="page",i.style.position="relative",i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.marginBottom=`${e.args.pages_vertical_spacing}px`,e.args.show_page_separator&&(i.style.borderBottom="1px solid #ddd");const s=document.createElement("div");if(s.className="canvasWrapper",s.style.position="absolute",s.style.top="0",s.style.left="0",s.appendChild(o),i.appendChild(s),z){const e=await t.getTextContent(),o=document.createElement("div");o.className="textLayer",o.style.zIndex="11",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height=`${n.height}px`,o.style.width=`${n.width}px`;const a=new w.D6({textContentSource:e,container:o,viewport:n,textDivs:[]});await a.render(),i.appendChild(o)}a&&a.length>0&&a.forEach((e,t)=>{const o=l+t;Z(e,o,i,n.scale)});const u=document.getElementById("pdfViewer");u.appendChild(i)},V=t=>0===e.args.pages_to_render.length?Array.from({length:t},(e,t)=>t+1):e.args.pages_to_render,W=async(a,i,s)=>{t.value=0,n.value=[],l.value=[],r.value=[];const u=e.args.resolution_boost||1;let p=0;const h=await a.getPage(1),g=h.getViewport({scale:1});let v;if("auto"===c.value)v=o.value/g.width*.98;else if("auto-height"===c.value){const t=E.value.clientHeight;v=!e.args.height||t<50?o.value/g.width*.98:t/g.height*.98}else v=c.value;d.value=v,C.value=Math.round(100*v);let m=0;for(let o=1;o<=a.numPages;o++){const c=await a.getPage(o),d=c.rotate;n.value.push(v),l.value.push(c.getViewport({scale:1,rotation:d}).height);const h=c.getViewport({scale:v,rotation:d});if(h.width>p&&(p=h.width),s.includes(o)){const n=F(c,v,d,o,u);i.style.setProperty("--scale-factor",v);const a=e.args.annotations.filter(e=>Number(e.page)===o);t.value+=n.height/((window.devicePixelRatio||1)*u),await P(c,n,h,a,m),m+=a.length,n.id&&r.value.push(n.id)}}s.length>0&&(t.value-=e.args.pages_vertical_spacing),i.style.width=`${p}px`,i.style.marginLeft="auto",i.style.marginRight="auto"},K=e=>{console.error(e),window.alert(e.message)},I=async e=>{w.EA.workerSrc="pdfjs-dist/build/pdf.worker.mjs";try{const t=(0,w.YE)({url:e,cMapUrl:k,cMapPacked:_,enableXfa:b}),o=await t.promise;v.value=o;const n=document.getElementById("pdfViewer");$(n);const a=V(o.numPages);await W(o,n,a),N()}catch(t){K(t)}},N=()=>{if(e.args.scroll_to_page){const t=document.getElementById(`canvas_page_${e.args.scroll_to_page}`);t&&t.scrollIntoView(e.args.scroll_options)}else if(e.args.scroll_to_annotation){const t=document.querySelector(`[id^="annotation-"][data-index="${e.args.scroll_to_annotation}"]`);t&&t.scrollIntoView(e.args.scroll_options)}},O=()=>{const o=e.args.height?e.args.height:t.value;o!==i.value&&(y.wk.setFrameHeight(o),i.value=o)},T=()=>{const t=R(e.args.width,window.innerWidth);let n;n="percent"===t.type?Math.min(Math.floor(t.value*window.innerWidth),window.innerWidth):t.value,n!==o.value&&(o.value=n)},j=async()=>{if(!L.value){L.value=!0;try{const t=`data:application/pdf;base64,${e.args.binary}`;T(),await I(t),O()}catch(t){console.error(t)}finally{L.value=!1}}};(0,a.wB)(()=>e.args.binary,()=>{j()}),(0,a.wB)(()=>e.args.zoom_level,e=>{c.value=null===e||void 0===e?"auto":e,j()}),(0,a.wB)(()=>e.args.viewer_align,()=>{j()});const B=()=>{const e=E.value;e&&e.requestFullscreen&&e.requestFullscreen()},X=()=>{document.exitFullscreen&&document.exitFullscreen()},D=()=>{p.value?X():B()},H=e=>{c.value=e,s.value=!1,j()},S=()=>{const e=Math.min(1.2*d.value,10);H(e)},A=()=>{const e=Math.max(d.value/1.2,.1);H(e)},q=()=>{H("auto")},Q=async()=>{e.args.height?H("auto-height"):H("auto")},G=()=>{s.value=!s.value,s.value&&(C.value=Math.round(100*d.value))},U=()=>{let e=parseFloat(C.value);!isNaN(e)&&e>0?(e=Math.max(10,Math.min(e,1e3)),H(e/100)):C.value=Math.round(100*d.value)},J=e=>{s.value&&!e.target.closest(".control-buttons")&&(s.value=!1)},Y=()=>{p.value=!!document.fullscreenElement},ee=(0,f.debounce)(j,200);return(0,a.sV)(()=>{ee(),window.addEventListener("resize",ee),document.addEventListener("click",J),document.addEventListener("fullscreenchange",Y)}),(0,a.hi)(()=>{window.removeEventListener("resize",ee),document.removeEventListener("click",J),document.removeEventListener("fullscreenchange",Y)}),{pdfContainer:E,pdfContainerStyle:M,showZoomPanel:s,currentZoom:d,localZoomLevel:c,zoomPresets:g,manualZoomInput:C,setZoom:H,zoomIn:S,zoomOut:A,fitToWidth:q,fitToHeight:Q,toggleZoomPanel:G,applyManualZoom:U,showFullscreen:h,isFullscreen:p,toggleFullscreen:D}}};var C=o(6262);const L=(0,C.A)(E,[["render",v],["__scopeId","data-v-e71e6d96"]]),z=L,R={key:0},M={class:"err__msg"};function $(e,t,o,n,l,r){return(0,a.uX)(),(0,a.CE)("div",null,[""!=e.componentError?((0,a.uX)(),(0,a.CE)("div",R,[t[0]||(t[0]=(0,a.Lk)("h1",{class:"err__title"},"Component Error",-1)),(0,a.Lk)("div",M,"Message: "+(0,i.v_)(e.componentError),1)])):null!=e.renderData?(0,a.RG)(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled},void 0,!0):(0,a.Q3)("",!0)])}const F=(0,a.pM)({name:"WithStreamlitConnection",setup(){const e=(0,m.KR)(void 0),t=(0,m.KR)(""),o=o=>{const n=o;e.value=n.detail,t.value=""};return(0,a.sV)(()=>{y.wk.events.addEventListener(y.wk.RENDER_EVENT,o),y.wk.setComponentReady()}),(0,a.$u)(()=>{""!=t.value&&y.wk.setFrameHeight()}),(0,a.hi)(()=>{y.wk.events.removeEventListener(y.wk.RENDER_EVENT,o)}),(0,a.qG)(e=>{t.value=String(e)}),{renderData:e,componentError:t}}}),Z=(0,C.A)(F,[["render",$],["__scopeId","data-v-bef81972"]]),P=Z,V=(0,a.pM)({name:"App",components:{PdfViewer:z,WithStreamlitConnection:P}}),W=(0,C.A)(V,[["render",r]]),K=W;(0,n.Ef)(K).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.loaded=!0,l.exports}o.m=e,(()=>{var e=[];o.O=(t,n,a,l)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,a,l]=e[c],i=!0,s=0;s<n.length;s++)(!1&l||r>=l)&&Object.keys(o.O).every(e=>o.O[e](n[s]))?n.splice(s--,1):(i=!1,l<r&&(r=l));if(i){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,a,l]}})(),(()=>{o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,l,[r,i,s]=n,u=0;if(r.some(t=>0!==e[t])){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(s)var c=s(o)}for(t&&t(n);u<r.length;u++)l=r[u],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},n=self["webpackChunkstreamlit_pdf_viewer"]=self["webpackChunkstreamlit_pdf_viewer"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,[504],()=>o(4611));n=o.O(n)})();
//# sourceMappingURL=app.08126d08.js.map